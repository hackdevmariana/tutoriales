import{_ as a,o as e,c as n,d as s}from"./app-B4X0YJIM.js";const t={},i=s(`<h1 id="simplificar-los-cruds-en-laravel-con-craftable" tabindex="-1"><a class="header-anchor" href="#simplificar-los-cruds-en-laravel-con-craftable"><span>Simplificar los CRUDs en Laravel con Craftable</span></a></h1><p>Craftable es una herramienta de desarrollo diseñada para acelerar el proceso de creación de aplicaciones web con Laravel. Ofrece una serie de características y funcionalidades que simplifican y agilizan el desarrollo de aplicaciones Laravel, especialmente aplicaciones de tipo <code>CRUD</code> (Create, Read, Update, Delete).</p><p>Craftable proporciona generadores de código que permiten crear rápidamente CRUD (Crear, Leer, Actualizar, Eliminar) para los modelos de una aplicación Laravel. Estos generadores crean controladores, rutas, vistas y formularios automáticamente, lo que ahorra tiempo y esfuerzo durante el desarrollo.</p><p>Incluye un panel de administración prediseñado y flexible que se puede personalizar según las necesidades del proyecto. Este panel de administración proporciona una interfaz intuitiva para gestionar los datos de la aplicación, incluyendo la capacidad de crear, editar y eliminar registros de base de datos.</p><p>Craftable está diseñado para trabajar bien con Vue.js, lo que permite crear interfaces de usuario interactivas y dinámicas para una aplicación Laravel. Podemos integrar fácilmente componentes Vue.js en las vistas de Craftable para mejorar la experiencia del usuario.</p><p>Autenticación y autorización integradas: Craftable proporciona características integradas de autenticación y autorización, lo que permite gestionar fácilmente la autenticación de usuarios y definir roles y permisos para restringir el acceso a ciertas partes de la aplicación.</p><p>Aunque Craftable ofrece una serie de características listas para usar, también es altamente personalizable y extensible. Ofrece una plantilla de administración basada en CoreUI que podemos personalizar fácilmente, tanto la apariencia del panel de administración, agregar nuevas funcionalidades y ajustar el comportamiento según las necesidades específicas del proyecto. Incluye un gestor de traducciones con interfaz de usuario para manejar contenido traducible, añadiendo un grado mayor de personalización.</p><h2 id="instalacion-de-craftable-con-su-instalador" tabindex="-1"><a class="header-anchor" href="#instalacion-de-craftable-con-su-instalador"><span>Instalación de Craftable con su instalador</span></a></h2><p>Necesitamos instalar el instalador de Craftable:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> global require <span class="token string">&quot;brackets/craftable-installer&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>En función de si tenemos un proyecto existente o no, instalaremos de una u otra forma.</p><p>Si no existe el proyecto (proyecto nuevo):</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>craftable new craftable_project
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Vamos al directorio recién creado e instalamos Craftable:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> craftable_project
craftable <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Si estamos trabajando en un proyecto Laravel y queremos instalar Craftable, iremos al directorio del proyecto y ejecutamos:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>craftable <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="instalacion-manual-de-craftable" tabindex="-1"><a class="header-anchor" href="#instalacion-manual-de-craftable"><span>Instalación manual de Craftable</span></a></h2><p>Si ya tenemos un proyecto Laravel funcionando y con el fichero <code>.env</code> configurado, podemos ir al directorio del proyecto Laravel e instalar manualmente Craftable.</p><p>Si estamos usando una versión posterior a Laravel 9, deberemos instalar este paquete:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> require psr/simple-cache:^2.0 maatwebsite/excel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Una vez instalado (sólo en versiones superiores a Laravel 9), o si usamos versiones inferiores a Laravel 9, podemos proceder a instalar Craftable:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> global require <span class="token string">&quot;brackets/craftable-installer&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> require <span class="token parameter variable">--dev</span> brackets/admin-generator
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan craftable:install
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Para ejecutar el servidor, si usamos Laravel con Webpack, escribiremos:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Si usamos Laravel con Vite, Craftable necesita añadir Webpack para generar los recursos de administración, por lo que debemos compilarlos con:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> run craftable-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Al instalar Craftable, nos generará una contraseña aleatoria.</p><p>Para acceder al panel de control, debemos escribir el usuario por defecto: <code>administrator@brackets.sk</code> y la contraseña proporcionada en la instalación.</p><h2 id="instalar-dependencias" tabindex="-1"><a class="header-anchor" href="#instalar-dependencias"><span>Instalar dependencias</span></a></h2><p>Puede que la instalación de Craftable nos indique que tiene alguna dependencia no resuelta.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>composer require brackets/craftable:^8.1.0
./composer.json has been updated
Running composer update brackets/craftable
Loading composer repositories with package information
Updating dependencies
Your requirements could not be resolved to an installable set of packages.

  Problem 1
    - Root composer.json requires brackets/craftable ^8.1.0 -&gt; satisfiable by brackets/craftable[v8.1.0].
    - brackets/craftable v8.1.0 requires spatie/laravel-permission ^3.0|^4.0|^5.0 -&gt; found spatie/laravel-permission[3.0, ..., 3.18.0, 4.0.0, ..., 4.4.3, 5.0.0, ..., 5.11.1] but the package is fixed to 6.7.0 (lock file version) by a partial update and that version does not match. Make sure you list it as an argument for the update command.

Use the option --with-all-dependencies (-W) to allow upgrades, downgrades and removals for packages currently locked to specific versions.

Installation failed, reverting ./composer.json and ./composer.lock to their original content.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Podemos instalarlas todas a la vez con:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> require brackets/craftable --with-all-dependencies
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="fallo-con-el-namespace" tabindex="-1"><a class="header-anchor" href="#fallo-con-el-namespace"><span>Fallo con el namespace</span></a></h2><p>Si nos indica que falla el namespace:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>php artisan craftable:install

   ERROR  There are no commands defined in the &quot;craftable&quot; namespace.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Debermos registrar el <code>ServiceProvider</code> de <code>Craftable</code> en el fichero <code>config/app.php</code> bajo el array <code>providers</code>.</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token string single-quoted-string">&#39;providers&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">ServiceProvider</span><span class="token operator">::</span><span class="token function">defaultProviders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token comment">/*
         * Package Service Providers...
         */</span>

        <span class="token comment">/*
         * Application Service Providers...
         */</span>
        <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\\</span>Providers<span class="token punctuation">\\</span>AppServiceProvider</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\\</span>Providers<span class="token punctuation">\\</span>AuthServiceProvider</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\\</span>Providers<span class="token punctuation">\\</span>BroadcastServiceProvider</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\\</span>Providers<span class="token punctuation">\\</span>EventServiceProvider</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\\</span>Providers<span class="token punctuation">\\</span>Filament<span class="token punctuation">\\</span>AdminPanelProvider</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\\</span>Providers<span class="token punctuation">\\</span>RouteServiceProvider</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name class-name-fully-qualified static-context">Brackets<span class="token punctuation">\\</span>Craftable<span class="token punctuation">\\</span>CraftableServiceProvider</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Si Craftable está instalado pero sus archivos de configuración no se han publicado, podemos hacerlo con el siguiente comando:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan vendor:publish <span class="token parameter variable">--provider</span><span class="token operator">=</span><span class="token string">&quot;Brackets\\Craftable\\CraftableServiceProvider&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="crear-un-crud-con-craftable" tabindex="-1"><a class="header-anchor" href="#crear-un-crud-con-craftable"><span>Crear un CRUD con Craftable</span></a></h2><p>Si queremos hacer una tabla <code>post</code>, primero, generaremos una migración con:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan make:migration create_posts_table <span class="token parameter variable">--create</span><span class="token operator">=</span>posts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>En la migración, en el apartado <code>up()</code>, añadiremos:</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;posts&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">increments</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;id&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;slug&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;perex&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">nullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;published_at&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">nullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">boolean</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;enabled&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Ejecutamos la migración:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan migrate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Y generamos el CRUD:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan admin:generate posts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Si vamos al panel de control, veremos que ya está operativa, creando Craftable el modelo, las rutas y todo lo necesario para insertar, leer, actualizar y borrar datos de esa tabla.</p>`,53),l=[i];function o(c,r){return e(),n("div",null,l)}const d=a(t,[["render",o],["__file","craftable.html.vue"]]),u=JSON.parse('{"path":"/laravel/craftable.html","title":"Simplificar los CRUDs en Laravel con Craftable","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Instalación de Craftable con su instalador","slug":"instalacion-de-craftable-con-su-instalador","link":"#instalacion-de-craftable-con-su-instalador","children":[]},{"level":2,"title":"Instalación manual de Craftable","slug":"instalacion-manual-de-craftable","link":"#instalacion-manual-de-craftable","children":[]},{"level":2,"title":"Instalar dependencias","slug":"instalar-dependencias","link":"#instalar-dependencias","children":[]},{"level":2,"title":"Fallo con el namespace","slug":"fallo-con-el-namespace","link":"#fallo-con-el-namespace","children":[]},{"level":2,"title":"Crear un CRUD con Craftable","slug":"crear-un-crud-con-craftable","link":"#crear-un-crud-con-craftable","children":[]}],"git":{"updatedTime":1714521194000,"contributors":[{"name":"fernando","email":"fernando@juandemariana.org","commits":2}]},"filePathRelative":"laravel/craftable.md"}');export{d as comp,u as data};
