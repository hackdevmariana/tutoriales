import{_ as n,o as a,c as e,d as s}from"./app-CiHGbRsB.js";const t={},o=s(`<h1 id="uso-de-nuxt-content" tabindex="-1"><a class="header-anchor" href="#uso-de-nuxt-content"><span>Uso de Nuxt Content</span></a></h1><p>Ejemplo de uso:</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ post.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nuxt-content</span> <span class="token attr-name">:document</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">asyncData</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> $content<span class="token punctuation">,</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">$content</span><span class="token punctuation">(</span><span class="token string">&#39;posts&#39;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span>slug<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> post <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Explicación del código:</p><p><code>&lt;h1&gt;{{ post.title }}&lt;/h1&gt;</code>: muestra el título del post utilizando la propiedad &#39;title&#39; del objeto &#39;post&#39;.</p><p><code>&lt;nuxt-content :document=&quot;post&quot; /&gt;</code>: El componente &#39;nuxt-content&#39; renderiza el contenido del post.</p><p>La función <code>asyncData</code> se ejecuta antes de cargar el componente.</p><p><code>const post = await $content(&#39;posts&#39;, params.slug).fetch();</code>: Utiliza el módulo Nuxt Content para obtener el post basado en el &#39;slug&#39; de la URL</p><p><code>return { post };</code>: Devuelve el objeto &#39;post&#39; para que esté disponible en el componente</p><h2 id="leer-de-un-fichero-yaml" tabindex="-1"><a class="header-anchor" href="#leer-de-un-fichero-yaml"><span>Leer de un fichero YAML</span></a></h2><p>Para leer datos de un fichero YAML en Nuxt Content, debemos:</p><ol><li><p>Colocar el archivo YAML en el directorio <code>content/</code> del proyecto Nuxt.</p></li><li><p>Utilizar la función <code>$content</code> para acceder al archivo YAML.</p></li></ol><p>Si el archivo se llama <code>miarchivo.yml</code>:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">asyncData</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> $content <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> miArchivo <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">$content</span><span class="token punctuation">(</span><span class="token string">&#39;miarchivo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> miArchivo <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Este código accede a los datos en el componente o página con <code>{{ miArchivo.propiedad }}</code>, donde propiedad es una clave definida en el archivo YAML.</p><p>Si el documento raíz del archivo YAML está basado en pares clave-valor, el resultado contendrá todas las propiedades del documento en su raíz. Si el documento raíz es una lista, el resultado contendrá todas las propiedades del documento en una propiedad body.</p><p>Un ejemplo de cómo podría ser el archivo YAML:</p><div class="language-YML line-numbers-mode" data-ext="YML" data-title="YML"><pre class="language-YML"><code>titulo: &#39;Mi Primer Post&#39;
descripcion: &#39;Este es un breve resumen de mi primer post.&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Y así es como accederíamos a estas propiedades en el componente:</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ miArchivo.titulo }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ miArchivo.descripcion }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Recordemos que si el archivo YAML comienza con <code>---</code>, que es estándar para múltiples documentos dentro de un solo flujo en archivos YAML, Nuxt Content podría no interpretarlo correctamente.</p><p>En ese caso, deberíamos eliminar los guiones para que Nuxt Content pueda leer el contenido correctamente</p><h2 id="sobre-nuxt-content" tabindex="-1"><a class="header-anchor" href="#sobre-nuxt-content"><span>Sobre Nuxt Content</span></a></h2><p>Nuxt Content es un módulo de Nuxt que facilita a los desarrolladores de Vue la creación y consulta de contenido. Permite escribir contenido en Markdown, YML, CSV o JSON y consultarlo en componentes Vue.</p><p>Además, permite usar componentes Vue en archivos Markdown con la sintaxis MDC.</p><p>Algunas características destacadas de Nuxt Content incluyen:</p><ul><li><p>CMS basado en archivos: Permite escribir contenido en Markdown, YML, CSV o JSON.</p></li><li><p>Constructor de consultas: Consulta el contenido con una API similar a MongoDB.</p></li><li><p>Base de datos flexible: Agrega campos personalizados al contenido.</p></li><li><p>Markdown con componentes: Usa componentes Vue en archivos Markdown.</p></li><li><p>Resaltado de código: Muestra bloques de código con integración Shiki, soportando temas de VS Code.</p></li><li><p>Despliegue en cualquier lugar: Compatible con generación estática, hosting Node.js y entornos de Workers.</p></li></ul><p>Nuxt Content es ideal para desarrolladores que buscan un CMS headless basado en Git para proyectos Vue.js.</p><h2 id="configuracion" tabindex="-1"><a class="header-anchor" href="#configuracion"><span>Configuración</span></a></h2><p>Para configurar Nuxt Content, debemos modificar el archivo <code>nuxt.config</code> del proyecto.</p><p>Un ejemplo básico de cómo se podría ver la configuración:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineNuxtConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Configuración personalizada</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dentro del objeto <code>content</code>, podemos establecer diversas propiedades para personalizar el comportamiento del módulo.</p><p>Por ejemplo, podemos cambiar la URL base de las APIs de contenido, habilitar la característica de <code>contentHead</code>, definir un locale predeterminado, entre otros.</p><p>Algunas opciones de configuración:</p><ul><li><p>api: Cambia el comportamiento predeterminado de las APIs de contenido.</p></li><li><p>contentHead: Habilita la característica de content head.</p></li><li><p>defaultLocale: Define el locale predeterminado para los contenidos.</p></li><li><p>documentDriven: Activa o desactiva el modo document-driven.</p></li><li><p>markdown: Controla la generación de enlaces de anclaje y otras opciones de Markdown.</p></li></ul><h2 id="contenthead" tabindex="-1"><a class="header-anchor" href="#contenthead"><span>contentHead</span></a></h2><p>La característica de <code>content head</code> en Nuxt Content es una funcionalidad que permite vincular automáticamente los metadatos de un contenido con las etiquetas OpenGraph, lo que facilita la implementación de SEO efectivo sin necesidad de configuración adicional.</p><p>Si está habilitada, el módulo usará el composable <code>useContentHead</code> para inyectar los datos del <code>head</code> del contenido en la página.</p><p>Por ejemplo, podemos especificar metadatos como el título, la descripción y la imagen en la sección <code>Front-Matter</code> de las páginas de contenido, y <code>useContentHead</code> se encargará de generar las etiquetas correspondientes en el <code>head</code> de tu documento HTML.</p><p>Esto es especialmente útil para mejorar la visibilidad y el compartir de las páginas en redes sociales y motores de búsqueda.</p><p>Para desactivar esta automatización, podemos configurar la opción <code>contentHead</code> como false en el archivo <code>nuxt.config</code>:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineNuxtConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentHead</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Esta característica es parte de lo que hace a Nuxt Content una herramienta poderosa para desarrolladores que buscan optimizar su contenido para SEO de manera sencilla y eficiente.</p><h2 id="front-matter" tabindex="-1"><a class="header-anchor" href="#front-matter"><span>Front-Matter</span></a></h2><p>En el <code>Front-Matter</code> de <code>Nuxt Content</code>, podemos especificar una variedad de metadatos para mejorar la gestión y presentación de tu contenido.</p><p>Algunos de los metadatos que podemos incluir son:</p><ul><li><p>title: El título de la página, que también se inyectará en las metas.</p></li><li><p>description: Descripción de la página, que se mostrará debajo del título y se inyectará en las metas.</p></li><li><p>draft: Marca la página como borrador (y solo se muestra en modo de desarrollo).</p></li><li><p>navigation: Define si la página se incluye en el valor de retorno de fetchContentNavigation.</p></li><li><p>head: Acceso fácil a useContentHead para establecer los metadatos de la página.</p></li></ul><p>Además, podemos extraer un resumen o extracto del contenido utilizando <code>&lt;!--more--&gt;</code> como divisor.</p><p>Por ejemplo:</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">&#39;Introducción&#39;</span>
<span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&#39;Descripción breve de la página&#39;</span>
<span class="token punctuation">---</span>

Aprende a usar @nuxt/content. &lt;<span class="token tag">!--more--</span><span class="token punctuation">&gt;</span> Aquí continúa el contenido completo.

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En este caso, todo lo que esté antes del <code>&lt;!--more--&gt;</code> se usará como extracto. Podemos acceder a este extracto en los componentes de Vue utilizando la propiedad <code>excerpt</code> que proporciona <code>Nuxt Content</code> al consultar los archivos.</p><p>En este caso, la propiedad <code>description</code> contendrá el contenido del extracto a menos que se defina dentro del <code>Front-Matter</code>.</p><p>Si no hay un divisor <code>&lt;!--more--&gt;</code> en el texto, entonces el extracto no se define.</p><p>Estos metadatos son accesibles al renderizar el contenido y pueden contener cualquier información que necesitemos.</p><p>Si no definimos un divisor <code>&lt;!--more--&gt;</code> en el contenido de <code>Nuxt Content</code>, el módulo no generará automáticamente un extracto para los artículos. En su lugar, todo el contenido del archivo Markdown se considerará como el cuerpo completo del artículo, y no habrá una sección específica que actúe como un resumen o vista previa.</p><p>Esto significa que cuando listemos los artículos, por ejemplo, en una página de inicio o en una página de categoría, tendremos que decidir otra forma de mostrar un resumen o introducción para cada artículo. Podríamos optar por usar las primeras líneas o párrafos del contenido o implementar una lógica personalizada para generar extractos.</p><p>La ausencia del divisor <code>&lt;!--more--&gt;</code> no afecta la funcionalidad principal de <code>Nuxt Content</code>, pero puede requerir que adaptemos el diseño o lógica de presentación para manejar la visualización de extractos de manera diferente.</p>`,58),c=[o];function p(i,l){return a(),e("div",null,c)}const r=n(t,[["render",p],["__file","content.html.vue"]]),u=JSON.parse('{"path":"/nuxt/content.html","title":"Uso de Nuxt Content","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Leer de un fichero YAML","slug":"leer-de-un-fichero-yaml","link":"#leer-de-un-fichero-yaml","children":[]},{"level":2,"title":"Sobre Nuxt Content","slug":"sobre-nuxt-content","link":"#sobre-nuxt-content","children":[]},{"level":2,"title":"Configuración","slug":"configuracion","link":"#configuracion","children":[]},{"level":2,"title":"contentHead","slug":"contenthead","link":"#contenthead","children":[]},{"level":2,"title":"Front-Matter","slug":"front-matter","link":"#front-matter","children":[]}],"git":{"updatedTime":1712402241000,"contributors":[{"name":"fernando","email":"fernando@juandemariana.org","commits":3}]},"filePathRelative":"nuxt/content.md"}');export{r as comp,u as data};
