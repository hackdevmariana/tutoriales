import{_ as e,r as t,o as p,c as o,a as n,e as s,b as c,d as i}from"./app-DjB8DGwA.js";const l={},u=n("h1",{id:"switch-entre-paneles-de-filamentphp",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#switch-entre-paneles-de-filamentphp"},[n("span",null,"Switch entre paneles de FilamentPHP")])],-1),r=n("p",null,"Usaremos el plugin bezhansalleh-panel-switch.",-1),d={href:"https://filamentphp.com/plugins/bezhansalleh-panel-switch",target:"_blank",rel:"noopener noreferrer"},k=i(`<p>Instalación:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> require bezhansalleh/filament-panel-switch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="cambio-de-panel-con-un-modal" tabindex="-1"><a class="header-anchor" href="#cambio-de-panel-con-un-modal"><span>Cambio de panel con un modal</span></a></h2><p>Con esto, nos aparecerá un botón en la parte superior derecha para cambiar de paneles. Por defecto, todos los usuarios podrán ver este botón.</p><p>Para que sólo <code>super_admin</code> pueda usar este plugin, iremos a <code>app/Provider/AppServiceProvider.php</code> y, en la parte de <code>boot</code>, añadiremos:</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">void</span>
<span class="token punctuation">{</span>
    <span class="token comment">//</span>
    <span class="token class-name static-context">PanelSwitch</span><span class="token operator">::</span><span class="token function">configureUsing</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">PanelSwitch</span> <span class="token variable">$panelSwitch</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$panelSwitch</span>
            <span class="token operator">-&gt;</span><span class="token function">visible</span><span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span> <span class="token operator">=&gt;</span> <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?-&gt;</span><span class="token function">hasAnyRole</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token string single-quoted-string">&#39;super_admin&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cambio-de-panel-con-un-boton" tabindex="-1"><a class="header-anchor" href="#cambio-de-panel-con-un-boton"><span>Cambio de panel con un botón</span></a></h2><p>Por defecto, muestra un botón que dispara un modal de pantalla completa para cambiar entre paneles. Podemos sustituirlo por un botón más discreto que muestre los paneles con <code>-&gt;simple()</code>, quedando algo así:</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">void</span>
<span class="token punctuation">{</span>
    <span class="token comment">//</span>
    <span class="token class-name static-context">PanelSwitch</span><span class="token operator">::</span><span class="token function">configureUsing</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">PanelSwitch</span> <span class="token variable">$panelSwitch</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$panelSwitch</span>
            <span class="token operator">-&gt;</span><span class="token function">simple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">visible</span><span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span> <span class="token operator">=&gt;</span> <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?-&gt;</span><span class="token function">hasAnyRole</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token string single-quoted-string">&#39;super_admin&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Quedando el fichero <code>app/Provider/AppServiceProvider.php</code> algo así:</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\\</span>Providers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\\</span>Support<span class="token punctuation">\\</span>ServiceProvider</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">BezhanSalleh<span class="token punctuation">\\</span>PanelSwitch<span class="token punctuation">\\</span>PanelSwitch</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">AppServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Register any application services.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">void</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Bootstrap any application services.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">void</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//</span>
        <span class="token class-name static-context">PanelSwitch</span><span class="token operator">::</span><span class="token function">configureUsing</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">PanelSwitch</span> <span class="token variable">$panelSwitch</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$panelSwitch</span>
                <span class="token operator">-&gt;</span><span class="token function">simple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">visible</span><span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span> <span class="token operator">=&gt;</span> <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?-&gt;</span><span class="token function">hasAnyRole</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                    <span class="token string single-quoted-string">&#39;super_admin&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cambio-de-panel-con-un-boton-en-el-menu-del-usuario" tabindex="-1"><a class="header-anchor" href="#cambio-de-panel-con-un-boton-en-el-menu-del-usuario"><span>Cambio de panel con un botón en el menú del usuario</span></a></h2><p>Independientemente de otras opciones, podemos incluir un botón dentro del menú del usuario para cambiar de panel. Lo haremos añadiendo en <code>app/Providers/Filament/DashboardPanelProvider.php</code> para pasar al panel de editor:</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Filament<span class="token punctuation">\\</span>Navigation<span class="token punctuation">\\</span>MenuItem</span><span class="token punctuation">;</span>

<span class="token operator">-&gt;</span><span class="token function">userMenuItems</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token class-name static-context">MenuItem</span><span class="token operator">::</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;Editor&#39;</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/editor&#39;</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;iconpark-editor&#39;</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">visible</span><span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span> <span class="token operator">=&gt;</span> <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?-&gt;</span><span class="token function">hasAnyRole</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                    <span class="token string single-quoted-string">&#39;super_admin&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Y en todos los paneles que queramos hacer los cambios.</p><p>Con <code>-&gt;label()</code> indicaremos el texto a mostrar. Con <code>-&gt;url()</code> indicaremos la ruta a enlazar. Con <code>-&gt;icon()</code> indicaremos el icono a mostrar. Con <code>-&gt;visible()</code> indicaremos para qué usuarios se mostrará el item.</p>`,16);function m(v,b){const a=t("ExternalLinkIcon");return p(),o("div",null,[u,r,n("p",null,[s("Información: "),n("a",d,[s("https://filamentphp.com/plugins/bezhansalleh-panel-switch"),c(a)])]),k])}const g=e(l,[["render",m],["__file","switch-paneles-filament.html.vue"]]),f=JSON.parse('{"path":"/laravel/switch-paneles-filament.html","title":"Switch entre paneles de FilamentPHP","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Cambio de panel con un modal","slug":"cambio-de-panel-con-un-modal","link":"#cambio-de-panel-con-un-modal","children":[]},{"level":2,"title":"Cambio de panel con un botón","slug":"cambio-de-panel-con-un-boton","link":"#cambio-de-panel-con-un-boton","children":[]},{"level":2,"title":"Cambio de panel con un botón en el menú del usuario","slug":"cambio-de-panel-con-un-boton-en-el-menu-del-usuario","link":"#cambio-de-panel-con-un-boton-en-el-menu-del-usuario","children":[]}],"git":{"updatedTime":1714899027000,"contributors":[{"name":"fernando","email":"fernando@juandemariana.org","commits":1}]},"filePathRelative":"laravel/switch-paneles-filament.md"}');export{g as comp,f as data};
