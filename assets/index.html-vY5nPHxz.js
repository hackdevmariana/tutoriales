import{_ as l,r as d,o as r,c as o,a,e,b as n,d as i}from"./app-BQ-KUayA.js";const t={},c=i(`<h1 id="instalar-entorno-de-desarrollo-para-laravel-en-ubuntu" tabindex="-1"><a class="header-anchor" href="#instalar-entorno-de-desarrollo-para-laravel-en-ubuntu"><span>Instalar entorno de desarrollo para Laravel en Ubuntu</span></a></h1><p>Primero, actualizaremos los paquetes disponibles y sus versiones:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="instalar-php" tabindex="-1"><a class="header-anchor" href="#instalar-php"><span>Instalar PHP</span></a></h2><p>Instalamos los paquetes necesarios de PHP:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> php php-cli php-fpm php-json php-common php-mysql php-zip php-gd php-mbstring php-curl php-xml php-pear php-bcmath
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Comprobamos que se ha instalado correctamente PHP:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Que nos devolverá algo así:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>PHP 8.1.2-1ubuntu2.15 (cli) (built: Feb 23 2024 17:26:53) (NTS)
Copyright (c) The PHP Group
Zend Engine v4.1.2, Copyright (c) Zend Technologies
    with Zend OPcache v8.1.2-1ubuntu2.15, Copyright (c), by Zend Technologies
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10),p={href:"http://localhost/",target:"_blank",rel:"noopener noreferrer"},u=i(`<h2 id="instalar-mysql" tabindex="-1"><a class="header-anchor" href="#instalar-mysql"><span>Instalar MySQL</span></a></h2><p>Si tenemos correctamente instalado PHP, procedemos a instalar MySQL:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> mysql-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Comprobamos que se ha instalado bien:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Que nos devolverá algo como:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>mysql  Ver 8.0.36-0ubuntu0.22.04.1 for Linux on x86_64 ((Ubuntu))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Instalamos el script de seguridad de MySQL.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysql_secure_installation
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Mostrará algo como:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Securing the MySQL server deployment.

Connecting to MySQL using a blank password.

VALIDATE PASSWORD COMPONENT can be used to test passwords
and improve security. It checks the strength of password
and allows the users to set only those passwords which are
secure enough. Would you like to setup VALIDATE PASSWORD component?

Press y|Y for Yes, any other key for No:
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Este componente ayuda a asegurar que las contraseñas utilizadas sean fuertes y seguras. Pulsamos <code>Y</code> y le damos al <code>Enter</code>.</p><p>Después de habilitar VALIDATE PASSWORD, MySQL pedirá que elijamos el nivel de validación de contraseña. Los niveles disponibles son:</p><ul><li><p>LOW</p></li><li><p>MEDIUM</p></li><li><p>STRONG</p></li></ul><p>Seleccionamos el nivel que prefiramos según la seguridad que deseemos implementar.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>There are three levels of password validation policy:

LOW    Length &gt;= 8
MEDIUM Length &gt;= 8, numeric, mixed case, and special characters
STRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary                  file

Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG:
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Para una instalación local, especialmente si es para desarrollo y pruebas, el nivel LOW de la política de validación de contraseñas puede ser suficiente. Esto requiere que la contraseña tenga una longitud de al menos 8 caracteres.</p><p>Sin embargo, es una buena práctica acostumbrarse a utilizar políticas de seguridad más estrictas, como MEDIUM o STRONG, para prepararse para entornos de producción y fomentar hábitos de seguridad consistentes.</p><p>Para utilizar el nivel LOW, simplemente escribimos 0 cuando la instalación lo solicite.</p><p>Pero si en algún momento llevamos la aplicación a un entorno de producción o accesible públicamente, consideraremos usar un nivel de seguridad más alto para proteger mejor los datos.</p><p>La siguiente opción a elegir es si queremos eliminar los usuarios anónimos:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Skipping password set for root as authentication with auth_socket is used by default.
If you would like to use password authentication instead, this can be done with the &quot;ALTER_USER&quot; command.
See https://dev.mysql.com/doc/refman/8.0/en/alter-user.html#alter-user-password-management for more information.

By default, a MySQL installation has an anonymous user,
allowing anyone to log into MySQL without having to have
a user account created for them. This is intended only for
testing, and to make the installation go a bit smoother.
You should remove them before moving into a production
environment.

Remove anonymous users? (Press y|Y for Yes, any other key for No) :
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Es muy recomendable eliminar los usuarios anónimos en MySQL, especialmente si planeamos utilizar la base de datos en un entorno de producción en el futuro.</p><p>Los usuarios anónimos pueden representar un riesgo de seguridad porque permiten el acceso a la base de datos sin necesidad de autenticación.</p><p>Para eliminar los usuarios anónimos, presionamos <code>Y</code> y luego <code>Enter</code>. Esto asegurará que solo los usuarios autenticados con los permisos adecuados puedan acceder a la base de datos MySQL.</p><p>Además, si queremos usar la autenticación por contraseña en lugar de <code>auth_socket</code>, podemos cambiar el método de autenticación para el usuario <code>root</code> utilizando el comando <code>ALTER USER</code>, como se indica en la documentación de MySQL. Esto permitirá establecer una contraseña para el usuario root, lo cual es una práctica común de seguridad.</p><p>Un ejemplo de cómo hacerlo:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">&#39;nueva_contraseña&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Después de realizar el cambio de contraseña, hay que asegurarse de reiniciar el servicio de MySQL para que los cambios surtan efecto.</p><p>El siguiente paso es decidir si se restringe el inidio de sesión remoto al usuario <code>root</code>.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Normally, root should only be allowed to connect from
&#39;localhost&#39;. This ensures that someone cannot guess at
the root password from the network.

Disallow root login remotely? (Press y|Y for Yes, any other key for No) :
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Es una buena práctica de seguridad restringir el inicio de sesión remoto del usuario root. Esto limita el acceso al usuario root solo desde el &#39;<code>localhost</code>&#39;, lo cual reduce significativamente la superficie de ataque y la posibilidad de que alguien intente adivinar la contraseña del root desde la red.</p><p>Para deshabilitar el inicio de sesión remoto del usuario root, presionamos <code>Y</code> y luego <code>Enter</code>. Esto configurará MySQL para que el usuario root solo pueda conectarse desde la máquina local, lo cual es adecuado para la mayoría de los entornos de desarrollo y producción.</p><p>Recordemos que siempre podemos crear usuarios adicionales con permisos específicos si necesitamos acceso remoto a la base de datos para tareas administrativas o de desarrollo.</p><p>La siguiente pregunta es si queremos eliminar la base de datos de prueba y el acceso a ella. Esta base de datos &#39;test&#39; es accesible por defecto para cualquier usuario, lo cual no es adecuado para un entorno de producción debido a posibles riesgos de seguridad, aunque puede ser usada en un entorno de desarrollo. Aunque, para mayor seguridad, mejor eliminarla:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>By default, MySQL comes with a database named &#39;test&#39; that
anyone can access. This is also intended only for testing,
and should be removed before moving into a production
environment.

Remove test database and access to it? (Press y|Y for Yes, any other key for No) :
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Para eliminar la base de datos de prueba y restringir el acceso a ella, presionamos <code>Y</code> y luego <code>Enter</code>. Esto ayudará a asegurar que sólo las bases de datos autorizadas sean accesibles y evitará que usuarios no deseados puedan interactuar con tus bases de datos en MySQL.</p><p>Estas medidas de seguridad son pasos importantes para proteger el entorno de desarrollo y prepararlo para un futuro despliegue en producción.</p><p>Por último, nos pregunta si queremos recargar las tablas de privilegios para asegurarnos de que todos los cambios realizados hasta ahora surtan efecto inmediatamente. Esto es especialmente importante después de realizar cambios de seguridad y permisos en MySQL.</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Reloading the privilege tables will ensure that all changes
made so far will take effect immediately.

Reload privilege tables now? (Press y|Y for Yes, any other key for No) :
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Para recargar las tablas de privilegios, presionamos <code>Y</code> y luego <code>Enter</code>. Esto ejecutará el comando</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>FLUSH <span class="token keyword">PRIVILEGES</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>que aplicará todos los nuevos privilegios y configuraciones de seguridad que hemos establecido durante el proceso de instalación y configuración de MySQL.</p><p>Recargar las tablas de privilegios es un paso final crucial para completar la configuración segura de un servidor MySQL.</p><p>Si todo ha funcionado correctamente, MySQL devolverá un mensaje de confirmación como este:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>All done!
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="instalar-phpmyadmin" tabindex="-1"><a class="header-anchor" href="#instalar-phpmyadmin"><span>Instalar PHPMyAdmin</span></a></h2><p>Para instalar PHPMyAdmin con apt, usaremos el siguiente comando:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> phpmyadmin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Nos pregunta si usamos Apache, Ngix u otro servidor web. Elegimos el que tengamos instalado.</p><p>Después, pregunta:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>El paquete phpmyadmin debe tener una base de datos instalada y configurada antes de poder ser utilizado. Puede gestionar esto opcionalmente a través
 «dbconfig-common».  

Debería rechazar esta opción si es Vd. un administrador de bases de datos avanzado y desea realizar esta configuración manualmente, o si la base de datos ya está instalada y configurada. Probablemente podrá encontrar los detalles de las operaciones que debe realizar en «/usr/share/doc/phpmyadmin».

Debería escoger esta opción en cualquier otro caso.

¿Desea configurar la base de datos para phpmyadmin con «dbconfig-common»?  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Para configurar con <code>dbconfig-common</code>, pulsaremos en el botón de <code>Yes</code>.</p><p>Nos pide una contraseña para que PHPMyAdmin se conecte a la base de datos.</p><p>Si le indicamos una contraseña poco segura, puede que nos de un error como este:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Se ha producido un error al instalar la base de datos:  

mysql said: ERROR 1819 (HY000) at line 1: Your password does not satisfy the current policy requirements

Sus opciones son:

* interrumpir - Hace que esta operación falle. Tendrá que instalar una versión anterior, reinstalar, reconfigurar el paquete o hacer alguna otra intervención manual antes de continuar. Habitualmente esto le impedirá instalar otros paquetes hasta que resuelva el fallo de instalación.                              
* reintentar - Vuelve a hacer las preguntas de configuración (incluyendo las que se han omitido debido a la configuración de prioridad de debconf) y hace otro intento para realizar la operación.  
* reintentar (omitir preguntas) - Intenta la operación de nuevo inmediatamente, omitiendo todas las preguntas. Esta opción es útil si ya ha resuelto el problema subyacente desde que se produjo el error.                                                                                      │
* ignorar - Continua la operación ignorando los errores de dbconfig-common. Por regla general hacer esto dejará el paquete sin una base de datos operativa.

Paso siguiente para la instalación de la base de datos:
interrumpir
reintentar
reintentar (omitir la pregunta)
ignorar

&lt;Ok&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Podemos ver la política de contraseñas entrando en la consola de MySQL:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Y usando el comando:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;validate_password%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Suponiendo que devuelva algo así:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>mysql&gt; SHOW VARIABLES LIKE &#39;validate_password%&#39;;
+-------------------------------------------------+-------+
| Variable_name                                   | Value |
+-------------------------------------------------+-------+
| validate_password.changed_characters_percentage | 0     |
| validate_password.check_user_name               | ON    |
| validate_password.dictionary_file               |       |
| validate_password.length                        | 8     |
| validate_password.mixed_case_count              | 1     |
| validate_password.number_count                  | 1     |
| validate_password.policy                        | LOW   |
| validate_password.special_char_count            | 1     |
+-------------------------------------------------+-------+
8 rows in set (0,00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Nos indicaría que la política de contraseñas del servidor MySQL está establecida en <code>LOW</code>, lo que generalmente requiere lo siguiente:</p><ul><li><p>Longitud mínima de la contraseña: 8 caracteres.</p></li><li><p>Cantidad de caracteres en mayúscula y minúscula: Al menos 1 de cada uno.</p></li><li><p>Cantidad de números: Al menos 1.</p></li><li><p>Cantidad de caracteres especiales: Al menos 1.</p></li></ul><p>Podemos comprobar que acepta una determinada contraseña creando un usuario de prueba con:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;usuario_prueba&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;contraseña_segura&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Si nos devuelve algo así:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Query OK, 0 rows affected (0,00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Es que se ha creado correctamente ese usuario. Podemos comprobarlo con:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">user</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token keyword">WHERE</span> <span class="token keyword">user</span> <span class="token operator">=</span> <span class="token string">&#39;usuario_prueba&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Que devolverá algo así como:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>+----------------+
| user           |
+----------------+
| usuario_prueba |
+----------------+
1 row in set (0,00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En caso de que siga dando problemas, podemos crear del mismo modo el usuario &#39;phpmyadmin&#39;:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;phpmyadmin&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;w1Dv06@nA~sH&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Para salir de la consola de MySQL, podemos usar:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>quit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>o</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Y continuar con la instalación.</p><h2 id="configurar-phpmyadmin-para-acceder-desde-el-navegador" tabindex="-1"><a class="header-anchor" href="#configurar-phpmyadmin-para-acceder-desde-el-navegador"><span>Configurar PHPMyAdmin para acceder desde el navegador</span></a></h2><p>Para configurar PHPMyAdmin con nginx, deberemos crear un enlace simbólico al directorio <code>/usr/share/phpmyadmin/</code>:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/share/phpmyadmin /var/www/html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Configuramos <code>nginx</code> añadiendo un bloque de configuración para PHPMyAdmin en el archivo de configuración de nginx. Podemos hacer esto editando el archivo de configuración del sitio (por ejemplo, <code>/etc/nginx/sites-available/default</code>):</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vi</span> /etc/nginx/sites-available/default
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Y añadiendo esto:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>server {
  listen 80;
  server_name _;

  root /var/www/html;
  index index.php index.html index.htm;

  location /phpmyadmin {
    root /usr/share/;
    index index.php index.html index.htm;
    location ~ ^/phpmyadmin/(.+\\.php)$ {
      try_files $uri =404;
      fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
      fastcgi_index index.php;
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      include fastcgi_params;
    }
    location ~* ^/phpmyadmin/(.+\\.jpg|jpeg|gif|css|png|js|ico|html|xml|txt)$ {
      root /usr/share/;
    }
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Asegunrándonos de que <code>/var/run/php/php8.1-fpm.sock</code> es el socket de PHP-FPM que estamos usando.</p><p>Reiniciamos nginx:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,89),m={href:"http://localhost/phpmyadmin/",target:"_blank",rel:"noopener noreferrer"},v=i(`<h2 id="crear-un-administrador-para-phpmyadmin" tabindex="-1"><a class="header-anchor" href="#crear-un-administrador-para-phpmyadmin"><span>Crear un administrador para PHPMyAdmin</span></a></h2><p>Accedemos a la consola de MySQL:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>En caso de que no nos deje entrar, entraremos como root del sistema:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysql <span class="token parameter variable">-u</span> root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Y cambiamos la contraseña:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">&#39;nueva_contraseña&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Aplicamos los cambios:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Ya podremos entrar con:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysql <span class="token parameter variable">-u</span> root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Creamos un administrador:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;administrador&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;contraseña&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Le damos permisos:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;administrador&#39;</span><span class="token variable">@&#39;localhost&#39;</span> <span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Y aplicamos los cambios:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="instalacion-de-composer" tabindex="-1"><a class="header-anchor" href="#instalacion-de-composer"><span>Instalación de composer</span></a></h2><p>Actualizamos los paquetes del sistema:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Instalamos los paquetes necesarios con:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> php-cli <span class="token function">unzip</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Descargamos <code>composer</code> con:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sS</span> https://getcomposer.org/installer <span class="token parameter variable">-o</span> /tmp/composer-setup.php
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Y comprobamos que el Hash es correcto:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">HASH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">curl</span> <span class="token parameter variable">-sS</span> https://composer.github.io/installer.sig<span class="token variable">\`</span></span>
php <span class="token parameter variable">-r</span> <span class="token string">&quot;if (hash_file(&#39;SHA384&#39;, &#39;/tmp/composer-setup.php&#39;) === &#39;<span class="token variable">$HASH</span>&#39;) { echo &#39;Installer verified&#39;; } else { echo &#39;Installer corrupt&#39;; unlink(&#39;/tmp/composer-setup.php&#39;); } echo PHP_EOL;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Si devuelve:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Installer verified
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Podemos proceder a instalar con:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> php /tmp/composer-setup.php --install-dir<span class="token operator">=</span>/usr/local/bin <span class="token parameter variable">--filename</span><span class="token operator">=</span>composer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Que nos debería devolver algo así:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>All settings correct for using Composer
Downloading...

Composer (version 2.7.3) successfully installed to: /usr/local/bin/composer
Use it: php /usr/local/bin/composer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Comprobamos que funciona:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="instalacion-de-laravel" tabindex="-1"><a class="header-anchor" href="#instalacion-de-laravel"><span>Instalación de Laravel</span></a></h2><p>Vamos al directorio raíz del servidor web:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /var/www/html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>E instalamos la última versión de Laravel:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> create-project --prefer-dist laravel/laravel nombre_del_proyecto
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="configuracion-de-nginx-para-mostrar-el-proyecto" tabindex="-1"><a class="header-anchor" href="#configuracion-de-nginx-para-mostrar-el-proyecto"><span>Configuración de nginx para mostrar el proyecto</span></a></h2><p>Editamos el fichero <code>/etc/nginx/sites-available/default</code> con permisos de administrador:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vi</span> /etc/nginx/sites-available/default
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Y añadimos:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>location /nombre_del_proyecto {
  root /var/www/html/nombre_del_proyecto/public;
  index index.php index.html index.htm;
  location ~ ^/nombre_del_proyecto/(.+\\.php)$ {
    try_files $uri =404;
    fastcgi_pass unix:/var/run/php/php8.1-fpm.sock; # Asegúrate de usar la versión correcta de PHP
    fastcgi_index index.php;
    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    include fastcgi_params;
  }
    location ~* ^/nombre_del_proyecto/(.+\\.jpg|jpeg|gif|css|png|js|ico|html|xml|txt)$ {
    root /var/www/html/nombre_del_proyecto/public/;
  }
}
location @nombre_del_proyecto {
    rewrite /nombre_del_proyecto/(.*)$ /nombre_del_proyecto/index.php?$1 last;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En nginx, las ubicaciones nombradas (named locations) solo pueden definirse a nivel de servidor (server level) y no dentro de bloques de ubicación (location blocks). Por lo tanto, tenemos que escribir los bloques <code>location /nombre_del_proyecto</code> y <code>location @nombre_del_proyecto</code> al mismo nivel, no uno dentro de otro.</p><p>Para comprobar que hemos escrito bien el fichero de configuración, podemos usar:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> nginx <span class="token parameter variable">-t</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Si devuelve algo como:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Es que todo ha ido correctamente y podemos reiniciar el servidor:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,51),b={href:"http://localhost/nombre_del_proyecto",target:"_blank",rel:"noopener noreferrer"},g=i(`<h2 id="uso-del-servidor-de-desarrollo" tabindex="-1"><a class="header-anchor" href="#uso-del-servidor-de-desarrollo"><span>Uso del servidor de desarrollo</span></a></h2><p>Si no queremos configurar nginx o Apache, podemos usar el servidor de desarrollo que incluye Laravel:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan serve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),h={href:"http://127.0.0.1:8000/",target:"_blank",rel:"noopener noreferrer"};function y(k,x){const s=d("ExternalLinkIcon");return r(),o("div",null,[c,a("p",null,[e("También podemos probar la instalación desde un navegador visitando "),a("a",p,[e("http://localhost/"),n(s)]),e(".")]),u,a("p",null,[e("Y accedemos mediante "),a("a",m,[e("http://localhost/phpmyadmin/"),n(s)]),e(".")]),v,a("p",null,[e("Y ya podremos acceder mediante el enlace "),a("a",b,[e("http://localhost/nombre_del_proyecto"),n(s)]),e(".")]),g,a("p",null,[e("Y usar la dirección que indique el comando. Por defecto: "),a("a",h,[e("http://127.0.0.1:8000/"),n(s)]),e(".")])])}const q=l(t,[["render",y],["__file","index.html.vue"]]),_=JSON.parse('{"path":"/laravel/","title":"Instalar entorno de desarrollo para Laravel en Ubuntu","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Instalar PHP","slug":"instalar-php","link":"#instalar-php","children":[]},{"level":2,"title":"Instalar MySQL","slug":"instalar-mysql","link":"#instalar-mysql","children":[]},{"level":2,"title":"Instalar PHPMyAdmin","slug":"instalar-phpmyadmin","link":"#instalar-phpmyadmin","children":[]},{"level":2,"title":"Configurar PHPMyAdmin para acceder desde el navegador","slug":"configurar-phpmyadmin-para-acceder-desde-el-navegador","link":"#configurar-phpmyadmin-para-acceder-desde-el-navegador","children":[]},{"level":2,"title":"Crear un administrador para PHPMyAdmin","slug":"crear-un-administrador-para-phpmyadmin","link":"#crear-un-administrador-para-phpmyadmin","children":[]},{"level":2,"title":"Instalación de composer","slug":"instalacion-de-composer","link":"#instalacion-de-composer","children":[]},{"level":2,"title":"Instalación de Laravel","slug":"instalacion-de-laravel","link":"#instalacion-de-laravel","children":[]},{"level":2,"title":"Configuración de nginx para mostrar el proyecto","slug":"configuracion-de-nginx-para-mostrar-el-proyecto","link":"#configuracion-de-nginx-para-mostrar-el-proyecto","children":[]},{"level":2,"title":"Uso del servidor de desarrollo","slug":"uso-del-servidor-de-desarrollo","link":"#uso-del-servidor-de-desarrollo","children":[]}],"git":{"updatedTime":1713621000000,"contributors":[{"name":"fernando","email":"fernando@juandemariana.org","commits":1}]},"filePathRelative":"laravel/README.md"}');export{q as comp,_ as data};
