# Personalizar el error 404

En Laravel, podemos personalizar la página de error 404 para que se adapte al diseño y estilo de tu aplicación.

Aquí hay algunos pasos para personalizar el error 404 en Laravel:

- **Crear una vista personalizada**: Primero, crearemos una vista personalizada para la página de error 404 en el directorio de vistas. Podemos llamar a esta vista como deseemos, por ejemplo, `error404.blade.php`. Esta vista contendrá el HTML y el diseño que deseamos mostrar cuando se produzca un error 404.

- **Configurar la ruta de la página de error 404**: En Laravel, podemos configurar la página de error 404 en el archivo `app/Exceptions/Handler.php`. Abrimos este archivo y buscamos el método `render()`.

Dentro de este método, podemoso verificar si la excepción es una instancia de `NotFoundHttpException` y devolver la vista de error 404 en ese caso.

Veamos un ejemplo de cómo hacerlo:


Primero, importamos `NotFoundHttpException`:

``` php
use Symfony\Component\HttpKernel\Exception\NotFoundHttpException;
```

Después, dentro del método `render()` de `app/Exceptions/Handler.php`, definimos la vista:

``` php
public function render($request, Throwable $exception)
{
    if ($exception instanceof NotFoundHttpException) {
        return response()->view('errors.404', [], 404);
    }

    return parent::render($request, $exception);
}
```

En este ejemplo, estamos comprobando si la excepción es una instancia de `NotFoundHttpException`, que se produce cuando se produce un error 404. Si es así, devolvemos la vista `errors.404` con un código de respuesta HTTP 404.

El fichero `app/Exceptions/Handler.php` podría quedar algo así:

``` php

namespace App\Exceptions;

use Illuminate\Foundation\Exceptions\Handler as ExceptionHandler;
use Throwable;
use Symfony\Component\HttpKernel\Exception\NotFoundHttpException;

class Handler extends ExceptionHandler
{
    /**
     * The list of the inputs that are never flashed to the session on validation exceptions.
     *
     * @var array<int, string>
     */
    protected $dontFlash = [
        'current_password',
        'password',
        'password_confirmation',
    ];

    /**
     * Register the exception handling callbacks for the application.
     */
    public function register(): void
    {
        $this->reportable(function (Throwable $e) {
            //
        });
    }
    public function render($request, Throwable $exception)
{
    if ($exception instanceof NotFoundHttpException) {
        return response()->view('error404', [], 404);
    }

    return parent::render($request, $exception);
}
}
```

- **Crear la vista de error 404**: En el directorio de vistas (`app/resources/views/`), creamos un archivo llamado `error404.blade.php` (o como hayamos llamado a la vista personalizada). Este archivo contendrá el HTML y el contenido que deseamos mostrar en la página de error 404.

Podemos crear el archivo `error404.blade.php` a mano en el directorio de vistas de la aplicación Laravel. No es necesario crearlo con artisan, ya que es sólo un archivo de plantilla Blade estándar que contiene el diseño y el contenido que deseamos mostrar en la página de error 404.

Podemos usar tanto frameworks CSS como variables de la aplicación. Por ejemplo:

``` html
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Error 404</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  </head>
  <body class="d-flex align-items-center justify-content-center" style="min-height: 100vh;" >
    <div class="text-center bg-danger rounded-3 p-5 shadow-lg text-white">
        <h1>{{ env('APP_NAME') }} :: 404</h1>
      </div>
</body>
</html>
```

En este ejemplo, importamos Bootstrap desde el CDN con:

```
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
```

Y usamos una variable de la aplicación con:

``` php
<h1>{{ env('APP_NAME') }} :: 404</h1>
```

Con estos pasos, personalizamos la página de error 404 en la aplicación Laravel y se mostrará el contenido personalizado que hayamos configurado cuando ocurra un error 404.
